(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{188:function(e,t,n){e.exports=n(389)},193:function(e,t,n){},195:function(e,t,n){},389:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(11),o=n.n(i),l=(n(193),n(32)),c=n(41),s=n(43),h=n(42),u=n(44),b=(n(195),n(56)),d=n(184),m=n.n(d),f=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(h.a)(t).call(this,e))).props=e,n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(b.List,null,this.props.bites.map(function(e){return r.a.createElement(b.ListItem,{primaryText:"Bite detected",secondaryText:e.time.toTimeString(),leftIcon:r.a.createElement(m.a,null)})}))}}]),t}(a.Component),g=n(187),p=n(45),v=n(69),E=n.n(v),w=n(185),y=n.n(w),j=n(186),S=n.n(j);var O=function e(t){Object(l.a)(this,e),this.time=new Date},k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(h.a)(t).call(this,e))).addBite=function(){var e=new Date;n.state.isRecording&&(!n.state.bites.length||e-n.state.bites[n.state.bites.length-1].time>n.state.max_bite_length)&&(n.setState({bites:n.state.bites.concat(new O)}),new Audio("/378394__13fpanska-stranska-michaela__school-bell.mp3").play())},n.startRecording=function(){n.setState({isRecording:!0})},n.stopRecording=function(){n.setState({isRecording:!1})},n.onStop=function(e){n.setState({blobURL:e.blobURL})},n.handleThresholdChange=function(e,t){n.setState({threshold:t})},n.state={blobObject:null,isRecording:!1,threshold:1e3,bites:[],max_bite_length:4e3},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this.state.isRecording;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(g.a,{className:"oscilloscope",record:t,backgroundColor:"#25541a",visualSetting:(e=this,function(t,n,a,r,i,o,l){t.fftSize=32;var c=t.frequencyBinCount,s=o,h=new Uint8Array(c);n.clearRect(0,0,r,i),function a(){requestAnimationFrame(a),t.getByteFrequencyData(h);for(var u=new Uint8Array(c/3),b=0;b<c;b+=3){for(var d=0,m=0;m<3;m++)d+=h[b+m];u[b/3]=d/3}for(var f=0,g=0;g<u.length;g++)f+=u[g];0<f&&f<e.state.threshold?(o="#ff0000",e.addBite()):o=s,n.clearRect(0,0,r,i),n.beginPath(),n.arc(r/2,i/2,Math.min(i,r)/2,0,2*Math.PI),n.fillStyle=o,n.fill();var p=Math.min(i,r)/2/u.length;n.strokeStyle=l;for(var v=0;v<u.length;v++){n.beginPath();var E=u[v]/128;f+=u[v];var w=p*v+p*E;n.arc(r/2,i/2,w,0,2*Math.PI),n.stroke()}}()}),audioBitsPerSecond:128e3,onStop:this.onStop,onStart:this.onStart,onSave:this.onSave,onData:this.onData,width:200,strokeColor:"#000000"})),r.a.createElement("br",null),"Drag slider to change threshold. ",r.a.createElement("br",null)," The circle should red when the sensor is being bitten and red otherwise.",r.a.createElement("br",null),r.a.createElement(E.a,{defaultValue:1e3,max:2e3,onChange:this.handleThresholdChange}),r.a.createElement(p.b,{className:"btn",secondary:!0,disabled:t,onClick:this.startRecording},r.a.createElement(y.a,null)),r.a.createElement(p.b,{className:"btn",secondary:!0,disabled:!t,onClick:this.stopRecording},r.a.createElement(S.a,null)),r.a.createElement("br",null),r.a.createElement(f,{bites:this.state.bites}))}}]),t}(a.Component),C=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.c,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null," Bioblow "),r.a.createElement("h3",null," relaxation \u2022 anti-teeth clenching \u2022 biofeedback ")),r.a.createElement(k,null),r.a.createElement(p.a,{href:"https://github.com/timthelion/bioblow"},"Copyright \xa9 2018 Timothy Hobbs AGPLv3. Get source.")))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[188,2,1]]]);
//# sourceMappingURL=main.3dde8368.chunk.js.map