(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{196:function(e,t,a){e.exports=a(398)},201:function(e,t,a){},203:function(e,t,a){},398:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(14),o=a.n(r),c=(a(201),a(23)),i=a(28),s=a(31),m=a(29),u=a(32),h=(a(203),a(58)),b=a(187),d=a.n(b),f=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).props=e,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(h.List,null,this.props.bites.map(function(e){return l.a.createElement(h.ListItem,{primaryText:"Bite detected",secondaryText:e.time.toTimeString(),leftIcon:l.a.createElement(d.a,null)})}))}}]),t}(n.Component),E=a(195),p=a(17),g=a(72),v=a.n(g),y=a(188),w=a.n(y),j=a(189),O=a.n(j),S=a(190),k=a.n(S);var D=function e(t){Object(c.a)(this,e),this.time=new Date},C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).addBite=function(){var e=new Date;a.state.isRecording&&(!a.state.bites.length||e-a.state.bites[a.state.bites.length-1].time>a.state.max_bite_length)&&(a.setState({bites:a.state.bites.concat(new D)}),new Audio("/378394__13fpanska-stranska-michaela__school-bell.mp3").play())},a.startRecording=function(){a.setState({isRecording:!0})},a.stopRecording=function(){a.setState({isRecording:!1})},a.onStop=function(e){a.setState({blobURL:e.blobURL})},a.handleThresholdChange=function(e,t){a.setState({threshold:t})},a.state={blobObject:null,isRecording:!1,threshold:1e3,bites:[],max_bite_length:4e3},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this.state.isRecording;return l.a.createElement("div",null,l.a.createElement(p.d,{href:"#/",style:{float:"left"},icon:l.a.createElement(w.a,null),label:"About",secondary:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement(E.a,{className:"oscilloscope",record:t,backgroundColor:"#25541a",visualSetting:(e=this,function(t,a,n,l,r,o,c){t.fftSize=32;var i=t.frequencyBinCount,s=o,m=new Uint8Array(i);a.clearRect(0,0,l,r),function n(){requestAnimationFrame(n),t.getByteFrequencyData(m);for(var u=new Uint8Array(i/3),h=0;h<i;h+=3){for(var b=0,d=0;d<3;d++)b+=m[h+d];u[h/3]=b/3}for(var f=0,E=0;E<u.length;E++)f+=u[E];0<f&&f<e.state.threshold?(o="#ff0000",e.addBite()):o=s,a.clearRect(0,0,l,r),a.beginPath(),a.arc(l/2,r/2,Math.min(r,l)/2,0,2*Math.PI),a.fillStyle=o,a.fill();var p=Math.min(r,l)/2/u.length;a.strokeStyle=c;for(var g=0;g<u.length;g++){a.beginPath();var v=u[g]/128;f+=u[g];var y=p*g+p*v;a.arc(l/2,r/2,y,0,2*Math.PI),a.stroke()}}()}),audioBitsPerSecond:128e3,onStop:this.onStop,onStart:this.onStart,onSave:this.onSave,onData:this.onData,width:200,strokeColor:"#000000"})),l.a.createElement("br",null),"Drag slider to change threshold. ",l.a.createElement("br",null)," The circle should red when the sensor is being bitten and otherwise green.",l.a.createElement("br",null)," Make sure the fan is on and the hose is hooked up before calibration!",l.a.createElement("br",null),l.a.createElement(v.a,{defaultValue:1e3,max:2e3,onChange:this.handleThresholdChange}),l.a.createElement(p.b,{className:"btn",secondary:!0,disabled:t,onClick:this.startRecording},l.a.createElement(O.a,null)),l.a.createElement(p.b,{className:"btn",secondary:!0,disabled:!t,onClick:this.stopRecording},l.a.createElement(k.a,null)),l.a.createElement("br",null),l.a.createElement(f,{bites:this.state.bites}))}}]),t}(n.Component),x=a(59),R=a.n(x),T=a(191),B=a.n(T),L=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("br",null),"Bioblow is a cheap, simple, and open-source biofeedback device to help you learn not to clench your teeth.",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(p.d,{href:"#/app",icon:l.a.createElement(B.a,null),label:"Go to web app",primary:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(p.a,{href:"model-60.stl",icon:l.a.createElement(R.a,null),label:"Download printable 3D model for 60x60mm fan (STL)"}),l.a.createElement("br",null),l.a.createElement(p.a,{href:"model-70.stl",icon:l.a.createElement(R.a,null),label:"Download printable 3D model for 70x70mm fan (STL untested)"}),l.a.createElement("br",null),l.a.createElement(p.a,{href:"model-80.stl",icon:l.a.createElement(R.a,null),label:"Download printable 3D model for 80x80mm fan (STL untested)"}),l.a.createElement("br",null),l.a.createElement(p.a,{href:"model-120.stl",icon:l.a.createElement(R.a,null),label:"Download printable 3D model for 120x120mm fan (STL untested)"}),l.a.createElement("br",null),l.a.createElement("br",null))}}]),t}(n.Component),A=a(400),_=a(401),N=a(192),P=a.n(N),I=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(p.c,null,l.a.createElement(A.a,null,l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement("h1",null," Bioblow "),l.a.createElement("h3",null," relaxation \u2022 anti-teeth clenching \u2022 biofeedback ")),l.a.createElement("div",{className:"content"},l.a.createElement(_.a,{exact:!0,path:"/",component:L}),l.a.createElement(_.a,{path:"/app",component:C})),l.a.createElement(p.a,{href:"https://github.com/bioblow"},"Copyright \xa9 2018 Timothy Hobbs AGPLv3. "),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(p.d,{href:"https://github.com/bioblow",label:"Download source",icon:l.a.createElement(P.a,null),secondary:!0,style:{float:"right"}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[196,2,1]]]);
//# sourceMappingURL=main.a0eb0bcc.chunk.js.map